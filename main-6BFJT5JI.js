import{a as R,b as I,d as V,e as C,f as N,g as O,h as P}from"./chunk-4TP4TLL4.js";import{a as v}from"./chunk-KK23B7UM.js";import{$a as u,Da as T,Db as H,Ia as k,Ma as p,Sa as S,Ub as A,Va as s,Y as x,Za as o,_a as i,cb as h,da as _,db as d,ea as f,eb as m,lb as l,mb as y,nb as w,pa as b,vb as L,z as E,za as c}from"./chunk-6J5GD54P.js";var g=(e,r)=>{let t=x(v),n=x(C);return t.isLoggedIn()?!0:n.parseUrl("/login")},U=(e,r)=>{let t=x(v),n=x(C);return t.isLoggedIn()&&t.isAdmin()?!0:n.parseUrl(t.isLoggedIn()?"/dashboard":"/login")};var F=[{path:"",loadComponent:()=>import("./chunk-S4XXPD6I.js").then(e=>e.WelcomeComponent),title:"Welcome to TIPSY"},{path:"login",loadComponent:()=>import("./chunk-K5QFMRRE.js").then(e=>e.LoginComponent),title:"Login"},{path:"register",loadComponent:()=>import("./chunk-3KCGAIS7.js").then(e=>e.RegisterComponent),title:"Register"},{path:"dashboard",loadComponent:()=>import("./chunk-J37OA2HY.js").then(e=>e.DashboardComponent),title:"TIPSY Dashboard",canActivate:[g]},{path:"report/:id",loadComponent:()=>import("./chunk-YRKZ5XPR.js").then(e=>e.ThreadDetailComponent),title:"Report Details",canActivate:[g]},{path:"create-report",loadComponent:()=>import("./chunk-DQCKJRJK.js").then(e=>e.CreateReportComponent),title:"Create New Report",canActivate:[g]},{path:"admin",loadComponent:()=>import("./chunk-IBIB37FG.js").then(e=>e.AdminComponent),title:"Admin Panel",canActivate:[g,U]},{path:"blockchain-explorer",loadComponent:()=>import("./chunk-YVET7ANJ.js").then(e=>e.BlockchainExplorerComponent),title:"Blockchain Explorer",canActivate:[g]},{path:"**",redirectTo:""}];var j={providers:[H({eventCoalescing:!0}),P(F)]};var B=()=>({exact:!0});function W(e,r){if(e&1){let t=h();o(0,"a",18),d("click",function(){_(t);let a=m();return f(a.closeMobileMenu())}),l(1,"Admin Panel"),i()}}function z(e,r){if(e&1&&(o(0,"div",20),u(1,"i",23),l(2),i()),e&2){let t=m();c(2),w("",t.anonymousId," ")}}function Z(e,r){if(e&1&&(o(0,"div",20),u(1,"i",24),l(2),i(),o(3,"div",25),l(4," Reputation: "),o(5,"span",26),l(6),i()()),e&2){let t=m();c(2),w("",t.anonymousId," "),c(4),y(t.reputation)}}function q(e,r){if(e&1){let t=h();o(0,"div",12)(1,"div",19),p(2,z,3,1,"div",20)(3,Z,7,2),i(),o(4,"button",21),d("click",function(){_(t);let a=m();return f(a.logout())}),u(5,"i",22),i()()}e&2&&(c(2),s(r.role==="Admin"?2:3))}function J(e,r){e&1&&u(0,"i",16)}function K(e,r){e&1&&u(0,"i",17)}function Q(e,r){if(e&1){let t=h();o(0,"a",33),d("click",function(){_(t);let a=m(2);return f(a.closeMobileMenu())}),l(1,"Admin Panel"),i()}}function X(e,r){if(e&1&&(o(0,"div",36),u(1,"i",39),l(2),i()),e&2){let t=m();c(2),y(t.anonymousId)}}function $(e,r){if(e&1&&(o(0,"div",36),l(1),i(),o(2,"div",40),l(3),i()),e&2){let t=m();c(),y(t.anonymousId),c(2),w("Reputation: ",t.reputation,"")}}function ee(e,r){if(e&1){let t=h();o(0,"div",32)(1,"div",34)(2,"div",35),p(3,X,3,1,"div",36)(4,$,4,2),i()(),o(5,"div",37)(6,"button",38),d("click",function(){_(t);let a=m(2);return f(a.logoutAndCloseMenu())}),l(7,"Sign out"),i()()()}e&2&&(c(3),s(r.role==="Admin"?3:4))}function te(e,r){if(e&1){let t=h();o(0,"div",13)(1,"div",27)(2,"a",28),d("click",function(){_(t);let a=m();return f(a.closeMobileMenu())}),l(3,"Dashboard"),i(),o(4,"a",29),d("click",function(){_(t);let a=m();return f(a.closeMobileMenu())}),l(5,"New Report"),i(),o(6,"a",30),d("click",function(){_(t);let a=m();return f(a.closeMobileMenu())}),l(7,"Blockchain"),i(),p(8,Q,2,0,"a",31),i(),p(9,ee,8,1,"div",32),i()}if(e&2){let t,n=m();c(2),S("routerLinkActiveOptions",L(3,B)),c(6),s(n.isAdmin()?8:-1),c(),s((t=n.currentUser())?9:-1,t)}}var D=class e{authService=x(v);router=x(C);currentUser=this.authService.currentUser;isAdmin=this.authService.isAdmin;isMobileMenuOpen=b(!1);toggleMobileMenu(){this.isMobileMenuOpen.update(r=>!r)}closeMobileMenu(){this.isMobileMenuOpen.set(!1)}logout(){this.authService.logout(),this.router.navigate(["/login"])}logoutAndCloseMenu(){this.closeMobileMenu(),this.logout()}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=k({type:e,selectors:[["app-header"]],decls:24,vars:6,consts:[[1,"bg-[#23263A]","shadow-lg","sticky","top-0","z-50"],[1,"container","mx-auto","px-4","sm:px-6","lg:px-8"],[1,"flex","items-center","justify-between","h-16"],[1,"flex","items-center","space-x-4"],["routerLink","/dashboard",1,"flex","items-center","space-x-2"],[1,"fas","fa-shield-halved","text-[#6C5DD3]","text-2xl"],[1,"text-xl","font-bold","text-white"],[1,"hidden","md:flex","items-baseline","space-x-4"],["routerLink","/dashboard","routerLinkActive","text-[#6C5DD3] border-b-2 border-[#6C5DD3]",1,"text-gray-300","hover:text-white","px-3","py-2","text-sm","font-medium","transition-colors",3,"click","routerLinkActiveOptions"],["routerLink","/create-report","routerLinkActive","text-[#6C5DD3] border-b-2 border-[#6C5DD3]",1,"text-gray-300","hover:text-white","px-3","py-2","text-sm","font-medium","transition-colors",3,"click"],["routerLink","/blockchain-explorer","routerLinkActive","text-[#6C5DD3] border-b-2 border-[#6C5DD3]",1,"text-gray-300","hover:text-white","px-3","py-2","text-sm","font-medium","transition-colors",3,"click"],["routerLink","/admin","routerLinkActive","text-[#6C5DD3] border-b-2 border-[#6C5DD3]",1,"text-gray-300","hover:text-white","px-3","py-2","text-sm","font-medium","transition-colors"],[1,"hidden","md:flex","items-center","space-x-4"],[1,"md:hidden"],[1,"inline-flex","items-center","justify-center","p-2","rounded-md","text-gray-400","hover:text-white","hover:bg-gray-700","focus:outline-none","focus:ring-2","focus:ring-inset","focus:ring-white",3,"click"],[1,"sr-only"],[1,"fas","fa-times","block","h-6","w-6"],[1,"fas","fa-bars","block","h-6","w-6"],["routerLink","/admin","routerLinkActive","text-[#6C5DD3] border-b-2 border-[#6C5DD3]",1,"text-gray-300","hover:text-white","px-3","py-2","text-sm","font-medium","transition-colors",3,"click"],[1,"text-right"],[1,"text-sm","text-gray-300","font-semibold"],["title","Logout",1,"bg-gray-700","hover:bg-[#6C5DD3]","text-white","h-10","w-10","rounded-full","flex","items-center","justify-center","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-offset-gray-800","focus:ring-white","transition-colors",3,"click"],[1,"fas","fa-sign-out-alt"],[1,"fas","fa-user-shield","mr-1","text-[#6C5DD3]"],[1,"fas","fa-user-secret","mr-1","text-gray-400"],[1,"text-xs","text-gray-400"],[1,"font-bold","text-[#6C5DD3]"],[1,"px-2","pt-2","pb-3","space-y-1","sm:px-3"],["routerLink","/dashboard","routerLinkActive","bg-gray-900 text-white",1,"text-gray-300","hover:bg-gray-700","hover:text-white","block","px-3","py-2","rounded-md","text-base","font-medium",3,"click","routerLinkActiveOptions"],["routerLink","/create-report","routerLinkActive","bg-gray-900 text-white",1,"text-gray-300","hover:bg-gray-700","hover:text-white","block","px-3","py-2","rounded-md","text-base","font-medium",3,"click"],["routerLink","/blockchain-explorer","routerLinkActive","bg-gray-900 text-white",1,"text-gray-300","hover:bg-gray-700","hover:text-white","block","px-3","py-2","rounded-md","text-base","font-medium",3,"click"],["routerLink","/admin","routerLinkActive","bg-gray-900 text-white",1,"text-gray-300","hover:bg-gray-700","hover:text-white","block","px-3","py-2","rounded-md","text-base","font-medium"],[1,"pt-4","pb-3","border-t","border-gray-700"],["routerLink","/admin","routerLinkActive","bg-gray-900 text-white",1,"text-gray-300","hover:bg-gray-700","hover:text-white","block","px-3","py-2","rounded-md","text-base","font-medium",3,"click"],[1,"flex","items-center","px-5"],[1,"ml-3"],[1,"text-base","font-medium","leading-none","text-white"],[1,"mt-3","px-2","space-y-1"],[1,"w-full","text-left","block","px-3","py-2","rounded-md","text-base","font-medium","text-gray-400","hover:text-white","hover:bg-gray-700",3,"click"],[1,"fas","fa-user-shield","mr-2","text-[#6C5DD3]"],[1,"text-sm","font-medium","leading-none","text-gray-400","mt-1"]],template:function(t,n){if(t&1&&(o(0,"header",0)(1,"nav",1)(2,"div",2)(3,"div",3)(4,"a",4),u(5,"i",5),o(6,"span",6),l(7,"TIPSY"),i()(),o(8,"div",7)(9,"a",8),d("click",function(){return n.closeMobileMenu()}),l(10,"Dashboard"),i(),o(11,"a",9),d("click",function(){return n.closeMobileMenu()}),l(12,"New Report"),i(),o(13,"a",10),d("click",function(){return n.closeMobileMenu()}),l(14,"Blockchain"),i(),p(15,W,2,0,"a",11),i()(),p(16,q,6,1,"div",12),o(17,"div",13)(18,"button",14),d("click",function(){return n.toggleMobileMenu()}),o(19,"span",15),l(20,"Open main menu"),i(),p(21,J,1,0,"i",16)(22,K,1,0,"i",17),i()()()(),p(23,te,10,4,"div",13),i()),t&2){let a;c(9),S("routerLinkActiveOptions",L(5,B)),c(6),s(n.isAdmin()?15:-1),c(),s((a=n.currentUser())?16:-1,a),c(5),s(n.isMobileMenuOpen()?21:22),c(2),s(n.isMobileMenuOpen()?23:-1)}},dependencies:[N,O,A],encapsulation:2,changeDetection:0})};function ie(e,r){e&1&&u(0,"app-header")}var M=class e{constructor(r){this.router=r;this.router.events.pipe(E(t=>t instanceof I)).subscribe(t=>{let n=["/","/login","/register"];this.showNavigation.set(!n.includes(t.urlAfterRedirects))})}showNavigation=b(!0);static \u0275fac=function(t){return new(t||e)(T(C))};static \u0275cmp=k({type:e,selectors:[["app-root"]],decls:3,vars:1,consts:[[1,"p-4","sm:p-6","lg:p-8"]],template:function(t,n){t&1&&(p(0,ie,1,0,"app-header"),o(1,"main",0),u(2,"router-outlet"),i()),t&2&&s(n.showNavigation()?0:-1)},dependencies:[A,V,D],encapsulation:2,changeDetection:0})};R(M,j).catch(e=>console.error(e));
