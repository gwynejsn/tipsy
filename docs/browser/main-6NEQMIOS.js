import{a as R,b as I,c as V,e as N,f as C,g as O,h as P,i as U,j as F}from"./chunk-KU3XBMJO.js";import{a as v}from"./chunk-HU3G3ZVB.js";import{Bb as H,Da as T,Ha as k,Qa as s,Ra as p,Tb as D,U as x,Va as S,Wa as o,Xa as i,Ya as u,Z as _,_ as f,ab as h,cb as m,db as d,ha as b,lb as l,mb as y,nb as w,vb as L,xa as c,y as E}from"./chunk-ZBVGA4EN.js";var j=()=>({exact:!0});function z(e,r){if(e&1){let t=h();o(0,"a",18),m("click",function(){_(t);let a=d();return f(a.closeMobileMenu())}),l(1,"Admin Panel"),i()}}function Z(e,r){if(e&1&&(o(0,"div",20),u(1,"i",23),l(2),i()),e&2){let t=d();c(2),w("",t.anonymousId," ")}}function q(e,r){if(e&1&&(o(0,"div",20),u(1,"i",24),l(2),i(),o(3,"div",25),l(4," Reputation: "),o(5,"span",26),l(6),i()()),e&2){let t=d();c(2),w("",t.anonymousId," "),c(4),y(t.reputation)}}function J(e,r){if(e&1){let t=h();o(0,"div",12)(1,"div",19),s(2,Z,3,1,"div",20)(3,q,7,2),i(),o(4,"button",21),m("click",function(){_(t);let a=d();return f(a.logout())}),u(5,"i",22),i()()}e&2&&(c(2),p(r.role==="Admin"?2:3))}function K(e,r){e&1&&u(0,"i",16)}function Q(e,r){e&1&&u(0,"i",17)}function X(e,r){if(e&1){let t=h();o(0,"a",33),m("click",function(){_(t);let a=d(2);return f(a.closeMobileMenu())}),l(1,"Admin Panel"),i()}}function $(e,r){if(e&1&&(o(0,"div",36),u(1,"i",39),l(2),i()),e&2){let t=d();c(2),y(t.anonymousId)}}function ee(e,r){if(e&1&&(o(0,"div",36),l(1),i(),o(2,"div",40),l(3),i()),e&2){let t=d();c(),y(t.anonymousId),c(2),w("Reputation: ",t.reputation)}}function te(e,r){if(e&1){let t=h();o(0,"div",32)(1,"div",34)(2,"div",35),s(3,$,3,1,"div",36)(4,ee,4,2),i()(),o(5,"div",37)(6,"button",38),m("click",function(){_(t);let a=d(2);return f(a.logoutAndCloseMenu())}),l(7,"Sign out"),i()()()}e&2&&(c(3),p(r.role==="Admin"?3:4))}function ie(e,r){if(e&1){let t=h();o(0,"div",13)(1,"div",27)(2,"a",28),m("click",function(){_(t);let a=d();return f(a.closeMobileMenu())}),l(3,"Dashboard"),i(),o(4,"a",29),m("click",function(){_(t);let a=d();return f(a.closeMobileMenu())}),l(5,"New Report"),i(),o(6,"a",30),m("click",function(){_(t);let a=d();return f(a.closeMobileMenu())}),l(7,"Blockchain"),i(),s(8,X,2,0,"a",31),i(),s(9,te,8,1,"div",32),i()}if(e&2){let t,n=d();c(2),S("routerLinkActiveOptions",L(3,j)),c(6),p(n.isAdmin()?8:-1),c(),p((t=n.currentUser())?9:-1,t)}}var A=class e{constructor(){this.authService=x(v);this.router=x(C);this.currentUser=this.authService.currentUser;this.isAdmin=this.authService.isAdmin;this.isMobileMenuOpen=b(!1,{})}toggleMobileMenu(){this.isMobileMenuOpen.update(r=>!r)}closeMobileMenu(){this.isMobileMenuOpen.set(!1)}logout(){this.authService.logout(),this.router.navigate(["/login"])}logoutAndCloseMenu(){this.closeMobileMenu(),this.logout()}static{this.\u0275fac=function(t){return new(t||e)}}static{this.\u0275cmp=k({type:e,selectors:[["app-header"]],decls:24,vars:6,consts:[[1,"bg-[#23263A]","shadow-lg","sticky","top-0","z-50"],[1,"container","mx-auto","px-4","sm:px-6","lg:px-8"],[1,"flex","items-center","justify-between","h-16"],[1,"flex","items-center","space-x-4"],["routerLink","/dashboard",1,"flex","items-center","space-x-2"],[1,"fas","fa-shield-halved","text-[#6C5DD3]","text-2xl"],[1,"text-xl","font-bold","text-white"],[1,"hidden","md:flex","items-baseline","space-x-4"],["routerLink","/dashboard","routerLinkActive","text-[#6C5DD3] border-b-2 border-[#6C5DD3]",1,"text-gray-300","hover:text-white","px-3","py-2","text-sm","font-medium","transition-colors",3,"click","routerLinkActiveOptions"],["routerLink","/create-report","routerLinkActive","text-[#6C5DD3] border-b-2 border-[#6C5DD3]",1,"text-gray-300","hover:text-white","px-3","py-2","text-sm","font-medium","transition-colors",3,"click"],["routerLink","/blockchain-explorer","routerLinkActive","text-[#6C5DD3] border-b-2 border-[#6C5DD3]",1,"text-gray-300","hover:text-white","px-3","py-2","text-sm","font-medium","transition-colors",3,"click"],["routerLink","/admin","routerLinkActive","text-[#6C5DD3] border-b-2 border-[#6C5DD3]",1,"text-gray-300","hover:text-white","px-3","py-2","text-sm","font-medium","transition-colors"],[1,"hidden","md:flex","items-center","space-x-4"],[1,"md:hidden"],[1,"inline-flex","items-center","justify-center","p-2","rounded-md","text-gray-400","hover:text-white","hover:bg-gray-700","focus:outline-none","focus:ring-2","focus:ring-inset","focus:ring-white",3,"click"],[1,"sr-only"],[1,"fas","fa-times","block","h-6","w-6"],[1,"fas","fa-bars","block","h-6","w-6"],["routerLink","/admin","routerLinkActive","text-[#6C5DD3] border-b-2 border-[#6C5DD3]",1,"text-gray-300","hover:text-white","px-3","py-2","text-sm","font-medium","transition-colors",3,"click"],[1,"text-right"],[1,"text-sm","text-gray-300","font-semibold"],["title","Logout",1,"bg-gray-700","hover:bg-[#6C5DD3]","text-white","h-10","w-10","rounded-full","flex","items-center","justify-center","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-offset-gray-800","focus:ring-white","transition-colors",3,"click"],[1,"fas","fa-sign-out-alt"],[1,"fas","fa-user-shield","mr-1","text-[#6C5DD3]"],[1,"fas","fa-user-secret","mr-1","text-gray-400"],[1,"text-xs","text-gray-400"],[1,"font-bold","text-[#6C5DD3]"],[1,"px-2","pt-2","pb-3","space-y-1","sm:px-3"],["routerLink","/dashboard","routerLinkActive","bg-gray-900 text-white",1,"text-gray-300","hover:bg-gray-700","hover:text-white","block","px-3","py-2","rounded-md","text-base","font-medium",3,"click","routerLinkActiveOptions"],["routerLink","/create-report","routerLinkActive","bg-gray-900 text-white",1,"text-gray-300","hover:bg-gray-700","hover:text-white","block","px-3","py-2","rounded-md","text-base","font-medium",3,"click"],["routerLink","/blockchain-explorer","routerLinkActive","bg-gray-900 text-white",1,"text-gray-300","hover:bg-gray-700","hover:text-white","block","px-3","py-2","rounded-md","text-base","font-medium",3,"click"],["routerLink","/admin","routerLinkActive","bg-gray-900 text-white",1,"text-gray-300","hover:bg-gray-700","hover:text-white","block","px-3","py-2","rounded-md","text-base","font-medium"],[1,"pt-4","pb-3","border-t","border-gray-700"],["routerLink","/admin","routerLinkActive","bg-gray-900 text-white",1,"text-gray-300","hover:bg-gray-700","hover:text-white","block","px-3","py-2","rounded-md","text-base","font-medium",3,"click"],[1,"flex","items-center","px-5"],[1,"ml-3"],[1,"text-base","font-medium","leading-none","text-white"],[1,"mt-3","px-2","space-y-1"],[1,"w-full","text-left","block","px-3","py-2","rounded-md","text-base","font-medium","text-gray-400","hover:text-white","hover:bg-gray-700",3,"click"],[1,"fas","fa-user-shield","mr-2","text-[#6C5DD3]"],[1,"text-sm","font-medium","leading-none","text-gray-400","mt-1"]],template:function(t,n){if(t&1&&(o(0,"header",0)(1,"nav",1)(2,"div",2)(3,"div",3)(4,"a",4),u(5,"i",5),o(6,"span",6),l(7,"TIPSY"),i()(),o(8,"div",7)(9,"a",8),m("click",function(){return n.closeMobileMenu()}),l(10,"Dashboard"),i(),o(11,"a",9),m("click",function(){return n.closeMobileMenu()}),l(12,"New Report"),i(),o(13,"a",10),m("click",function(){return n.closeMobileMenu()}),l(14,"Blockchain"),i(),s(15,z,2,0,"a",11),i()(),s(16,J,6,1,"div",12),o(17,"div",13)(18,"button",14),m("click",function(){return n.toggleMobileMenu()}),o(19,"span",15),l(20,"Open main menu"),i(),s(21,K,1,0,"i",16)(22,Q,1,0,"i",17),i()()()(),s(23,ie,10,4,"div",13),i()),t&2){let a;c(9),S("routerLinkActiveOptions",L(5,j)),c(6),p(n.isAdmin()?15:-1),c(),p((a=n.currentUser())?16:-1,a),c(5),p(n.isMobileMenuOpen()?21:22),c(2),p(n.isMobileMenuOpen()?23:-1)}},dependencies:[O,P,D],encapsulation:2,changeDetection:0})}};function ne(e,r){e&1&&u(0,"app-header")}var M=class e{constructor(r){this.router=r;this.showNavigation=b(!0,{});this.router.events.pipe(E(t=>t instanceof V)).subscribe(t=>{let n=["/","/login","/register"];this.showNavigation.set(!n.includes(t.urlAfterRedirects))})}static{this.\u0275fac=function(t){return new(t||e)(T(C))}}static{this.\u0275cmp=k({type:e,selectors:[["app-root"]],decls:3,vars:1,consts:[[1,"p-4","sm:p-6","lg:p-8"]],template:function(t,n){t&1&&(s(0,ne,1,0,"app-header"),o(1,"main",0),u(2,"router-outlet"),i()),t&2&&p(n.showNavigation()?0:-1)},dependencies:[D,N,A],encapsulation:2,changeDetection:0})}};var g=(e,r)=>{let t=x(v),n=x(C);return t.isLoggedIn()?!0:n.parseUrl("/login")},B=(e,r)=>{let t=x(v),n=x(C);return t.isLoggedIn()&&t.isAdmin()?!0:n.parseUrl(t.isLoggedIn()?"/dashboard":"/login")};var G=[{path:"",loadComponent:()=>import("./chunk-NUE7ZI5M.js").then(e=>e.WelcomeComponent),title:"Welcome to TIPSY"},{path:"login",loadComponent:()=>import("./chunk-2MTBCYF7.js").then(e=>e.LoginComponent),title:"Login"},{path:"register",loadComponent:()=>import("./chunk-PCLNZNXJ.js").then(e=>e.RegisterComponent),title:"Register"},{path:"dashboard",loadComponent:()=>import("./chunk-YCWJDDIJ.js").then(e=>e.DashboardComponent),title:"TIPSY Dashboard",canActivate:[g]},{path:"report/:id",loadComponent:()=>import("./chunk-7CR5QKOV.js").then(e=>e.ThreadDetailComponent),title:"Report Details",canActivate:[g]},{path:"create-report",loadComponent:()=>import("./chunk-PLAXEGLN.js").then(e=>e.CreateReportComponent),title:"Create New Report",canActivate:[g]},{path:"admin",loadComponent:()=>import("./chunk-U6Z2PXJ3.js").then(e=>e.AdminComponent),title:"Admin Panel",canActivate:[g,B]},{path:"blockchain-explorer",loadComponent:()=>import("./chunk-NH6AIL4U.js").then(e=>e.BlockchainExplorerComponent),title:"Blockchain Explorer",canActivate:[g]},{path:"**",redirectTo:""}];I(M,{providers:[H(),U(G,F()),R()]}).catch(e=>console.error(e));
