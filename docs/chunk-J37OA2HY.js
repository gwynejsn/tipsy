import{f as $}from"./chunk-4TP4TLL4.js";import{a as B}from"./chunk-U3DBY7XP.js";import{b as j,d as N}from"./chunk-FEKN5OEZ.js";import"./chunk-KK23B7UM.js";import{$a as p,Ab as I,Ia as k,Ib as M,Ma as C,Sa as y,Sb as L,Ta as h,Ua as v,Ub as V,Va as S,Wa as b,Xa as u,Y as F,Ya as x,Za as r,_a as n,cb as w,da as g,db as D,ea as f,eb as s,lb as l,mb as E,nb as c,pa as _,vb as A,wb as T,yb as R,za as o}from"./chunk-6J5GD54P.js";var O=()=>[1,2,3,4,5,6],U=e=>["/report",e],q=(e,i)=>i.id;function z(e,i){if(e&1){let t=w();r(0,"button",11),D("click",function(){let d=g(t).$implicit,m=s();return f(m.setStatusFilter(d))}),l(1),n()}if(e&2){let t=i.$implicit,a=s();h("bg-[#6C5DD3]",a.statusFilter()===t)("bg-gray-700",a.statusFilter()!==t),o(),c(" ",t," ")}}function G(e,i){if(e&1){let t=w();r(0,"button",11),D("click",function(){let d=g(t).$implicit,m=s();return f(m.setCriticalityFilter(d))}),l(1),n()}if(e&2){let t=i.$implicit,a=s();h("bg-[#6C5DD3]",a.criticalityFilter()===t)("bg-gray-700",a.criticalityFilter()!==t),o(),c(" ",t," ")}}function J(e,i){e&1&&(r(0,"div",12),p(1,"app-skeleton-loader",13)(2,"app-skeleton-loader",14)(3,"app-skeleton-loader",15),r(4,"div",16),p(5,"app-skeleton-loader",17)(6,"app-skeleton-loader",17),n()())}function K(e,i){e&1&&(r(0,"div",10),u(1,J,7,0,"div",12,b),n()),e&2&&(o(),x(A(0,O)))}function Q(e,i){if(e&1&&(r(0,"div",19)(1,"h2",20),l(2),n(),r(3,"p",21),l(4),n(),r(5,"div",22)(6,"span",23),l(7),R(8,"date"),n(),r(9,"span",24),p(10,"i",25),l(11),n()(),r(12,"div",16)(13,"span",26),p(14,"i",27),l(15),n(),r(16,"span",26),l(17),n()()()),e&2){let t=i.$implicit,a=s(3);y("routerLink",T(15,U,t.id)),o(),y("title",t.title),o(),c(" ",t.title," "),o(2),c(" ",t.description," "),o(3),E(I(8,12,t.createdAt,"medium")),o(4),c(" ",t.upvotes,""),o(2),v(a.getSeverityClass(t.criticality)),o(2),c("",t.criticality," "),o(),v(a.getStatusClass(t.status)),o(),c(" ",t.status," ")}}function W(e,i){if(e&1&&(r(0,"div",10),u(1,Q,18,17,"div",19,q),n()),e&2){let t=s(2);o(),x(t.filteredReports())}}function X(e,i){e&1&&(r(0,"div",18)(1,"p",28),l(2,"No tip match the current filters."),n()())}function Y(e,i){if(e&1&&C(0,W,3,0,"div",10)(1,X,3,0,"div",18),e&2){let t=s();S(t.filteredReports().length>0?0:1)}}var P=class e{dataService=F(N);reports=j(this.dataService.getReports());statusFilter=_("All");criticalityFilter=_("All");statuses=["All","Open","Under Review","Resolved"];criticalities=["All","Low","Medium","High"];filteredReports=M(()=>{let i=this.reports(),t=this.statusFilter(),a=this.criticalityFilter();return i?i.filter(d=>{let m=t==="All"||d.status===t,H=a==="All"||d.criticality===a;return m&&H}):[]});setStatusFilter(i){this.statusFilter.set(i)}setCriticalityFilter(i){this.criticalityFilter.set(i)}getSeverityClass(i){switch(i){case"High":return"bg-red-500/20 text-red-400 border-red-500/30";case"Medium":return"bg-yellow-500/20 text-yellow-400 border-yellow-500/30";case"Low":return"bg-blue-500/20 text-blue-400 border-blue-500/30";default:return"bg-gray-500/20 text-gray-400 border-gray-500/30"}}getStatusClass(i){switch(i){case"Open":return"bg-green-500/20 text-green-400 border-green-500/30";case"Under Review":return"bg-orange-500/20 text-orange-400 border-orange-500/30";case"Resolved":return"bg-purple-500/20 text-purple-400 border-purple-500/30";default:return"bg-gray-500/20 text-gray-400 border-gray-500/30"}}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=k({type:e,selectors:[["app-dashboard"]],decls:22,vars:1,consts:[[1,"container","mx-auto"],[1,"flex","justify-between","items-center","mb-6"],[1,"text-3xl","font-bold","text-white"],["routerLink","/create-report",1,"bg-[#6C5DD3]","text-white","font-bold","py-2","px-4","rounded-lg","shadow-md","hover:bg-[#584bad]","transition-colors","flex","items-center"],[1,"fas","fa-plus","mr-2"],[1,"bg-[#23263A]","p-4","rounded-lg","mb-6","flex","flex-wrap","gap-4","items-center"],[1,"flex","items-center","space-x-2"],[1,"text-sm","font-medium","text-gray-300"],[1,"flex","space-x-2"],[1,"px-3","py-1","text-sm","text-white","rounded-md","hover:bg-[#584bad]","transition-colors",3,"bg-[#6C5DD3]","bg-gray-700"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-3","gap-6"],[1,"px-3","py-1","text-sm","text-white","rounded-md","hover:bg-[#584bad]","transition-colors",3,"click"],[1,"bg-[#23263A]","p-5","rounded-lg","shadow-lg"],["customClass","h-6 w-3/4 mb-4"],["customClass","h-4 w-full mb-2"],["customClass","h-4 w-5/6 mb-4"],[1,"flex","justify-between","items-center"],["customClass","h-8 w-24"],[1,"text-center","py-16","bg-[#23263A]","rounded-lg"],[1,"bg-[#23263A]","p-5","rounded-lg","shadow-lg","hover:shadow-2xl","hover:border-[#6C5DD3]","border-2","border-transparent","cursor-pointer","transition-all","duration-300","transform","hover:-translate-y-1",3,"routerLink"],[1,"text-xl","font-bold","text-white","truncate","mb-2",3,"title"],[1,"text-gray-400","h-12","overflow-hidden","text-ellipsis","mb-4"],[1,"flex","justify-between","items-center","text-sm","mb-4"],[1,"text-gray-500"],[1,"flex","items-center","text-gray-300"],[1,"fas","fa-arrow-up","mr-1"],[1,"px-3","py-1","rounded-full","text-xs","font-semibold","border"],[1,"fas","fa-triangle-exclamation","mr-1"],[1,"text-gray-400","text-lg"]],template:function(t,a){t&1&&(r(0,"div",0)(1,"div",1)(2,"h1",2),l(3,"Tip Dashboard"),n(),r(4,"a",3),p(5,"i",4),l(6," New Anonymous Tip "),n()(),r(7,"div",5)(8,"div",6)(9,"label",7),l(10,"Status:"),n(),r(11,"div",8),u(12,z,2,5,"button",9,b),n()(),r(14,"div",6)(15,"label",7),l(16,"Criticality:"),n(),r(17,"div",8),u(18,G,2,5,"button",9,b),n()()(),C(20,K,3,1,"div",10)(21,Y,2,1),n()),t&2&&(o(12),x(a.statuses),o(6),x(a.criticalities),o(2),S(a.reports()?21:20))},dependencies:[V,L,$,B],encapsulation:2,changeDetection:0})};export{P as DashboardComponent};
